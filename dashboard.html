{% extends "layout.html" %}{% block content %}<div class="max-w-6xl mx-auto px-4 py-8 fade-in"><h1 class="text-4xl font-bold mb-8">{{ _('Your Personal Dashboard') }}</h1>{% if disease_data.labels %}<div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-2xl font-bold mb-4 text-center">{{ _('Disease Detections') }}</h2><div class="h-80 w-full"><canvas id="diseaseChart"></canvas></div></div><div class="bg-white p-6 rounded-lg shadow-md"><h2 class="text-2xl font-bold mb-4 text-center">{{ _('Monthly Scan Activity') }}</h2><div class="h-80 w-full"><canvas id="monthlyChart"></canvas></div></div></div>{% else %}<div class="text-center py-16"><p class="text-xl text-gray-500">{{ _('No data available to display. Start analyzing to see your dashboard!') }}</p><a href="{{ url_for('analyze_page') }}" class="mt-4 inline-block bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-all">{{ _('Make your first analysis!') }}</a></div>{% endif %}</div><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script>const diseaseData={{ disease_data | tojson }},monthlyData={{ monthly_data | tojson }};if(diseaseData.labels.length>0){const e=document.getElementById("diseaseChart").getContext("2d");new Chart(e,{type:"pie",data:{labels:diseaseData.labels.map(e=>e.replace(/_|-/g," ")),datasets:[{label:"{{ _('Detections') }}",data:diseaseData.values,backgroundColor:["rgba(34, 197, 94, 0.6)","rgba(239, 68, 68, 0.6)","rgba(234, 179, 8, 0.6)","rgba(59, 130, 246, 0.6)","rgba(168, 85, 247, 0.6)","rgba(236, 72, 153, 0.6)"],borderColor:["rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(234, 179, 8, 1)","rgba(59, 130, 246, 1)","rgba(168, 85, 247, 1)","rgba(236, 72, 153, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})}if(monthlyData.labels.length>0){const e=document.getElementById("monthlyChart").getContext("2d");new Chart(e,{type:"bar",data:{labels:monthlyData.labels,datasets:[{label:"{{ _('Number of Scans') }}",data:monthlyData.values,backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}</script>{% endblock %}