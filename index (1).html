{% extends "layout.html" %}{% block content %}<div class="bg-gradient-to-br from-green-50 to-cyan-100 flex items-center justify-center min-h-screen -mt-16"><div class="bg-white rounded-2xl shadow-xl p-8 max-w-lg w-full fade-in"><div class="text-center mb-8"><h1 class="text-4xl font-bold">{{ _('Analysis Tool') }}</h1><p class="text-gray-600 mt-2">{{ _('Upload a leaf image to begin diagnosis.') }}</p></div><form action="{{ url_for('predict') }}" method="post" enctype="multipart/form-data" id="upload-form"><div class="mb-6"><label for="file-upload" class="cursor-pointer group"><div id="upload-area" class="w-full px-4 py-12 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-green-500 hover:text-green-600 transition-all text-center"><img id="image-preview" class="hidden mx-auto max-h-48 rounded-lg mb-4" /><div id="upload-text"><svg class="mx-auto h-12 w-12" stroke="currentColor" fill="none" viewBox="0 0 48 48"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mt-2 block text-sm font-medium">{{ _('Click to upload or drag & drop') }}</span></div><p id="file-info" class="mt-2 text-sm font-medium"></p></div></label><input id="file-upload" name="file" type="file" class="sr-only" accept="image/png, image/jpeg, image/jpg"></div><button type="submit" id="submit-button" class="w-full flex items-center justify-center bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-all">{{ _('Detect Disease') }}</button><div id="loader" class="hidden w-full flex items-center justify-center"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"></div><span class="ml-4 font-medium">{{ _('Analyzing...') }}</span></div></form></div></div><script>const form=document.getElementById("upload-form"),fileUpload=document.getElementById("file-upload"),imagePreview=document.getElementById("image-preview"),uploadText=document.getElementById("upload-text"),fileInfo=document.getElementById("file-info"),submitButton=document.getElementById("submit-button"),loader=document.getElementById("loader");fileUpload.addEventListener("change",function(e){const t=e.target.files[0];if(t){if(!t.type.startsWith("image/")){return alert("{{ _('Invalid file type. Please upload an image (JPG, PNG).') }}"),void(fileUpload.value="");}const e=new FileReader;e.onload=function(e){imagePreview.src=e.target.result,imagePreview.classList.remove("hidden"),uploadText.classList.add("hidden"),fileInfo.textContent=`{{ _('File') }}: ${t.name}`},e.readAsDataURL(t)}}),form.addEventListener("submit",function(e){0===fileUpload.files.length&&(e.preventDefault(),alert("{{ _('Please select an image to upload.') }}")),submitButton.classList.add("hidden"),loader.classList.remove("hidden")});</script>{% endblock %}