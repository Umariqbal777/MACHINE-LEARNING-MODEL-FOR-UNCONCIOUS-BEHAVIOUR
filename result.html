{% extends "layout.html" %}{% block content %}<div class="bg-gradient-to-br from-green-50 to-cyan-100 flex items-center justify-center min-h-screen -mt-16 py-12"><div class="bg-white rounded-2xl shadow-xl p-8 max-w-4xl w-full fade-in"><h1 class="text-4xl font-bold text-center mb-8">{{ _('Detection Result') }}</h1><div class="grid md:grid-cols-2 gap-8 items-start"><div class="space-y-6"><img src="{{ image_path }}" alt="Uploaded Leaf Image" class="rounded-lg w-full shadow-md border-4 border-white"><div class="bg-gray-50 rounded-lg p-6 space-y-4 text-center"><div><p class="text-lg text-gray-600 mb-1">{{ _('Predicted Condition') }}:</p><h2 class="text-3xl font-bold text-green-700">{{ prediction }}</h2></div><div><p class="text-md text-gray-600 mb-2">{{ _('Confidence Score') }}:</p><div class="w-full bg-gray-200 rounded-full h-6" title="{{ confidence_level }} {{ _('Confidence') }}">{% if confidence_level == 'High' %}<div class="bg-green-500 h-6 rounded-full text-center text-white font-bold flex items-center justify-center" style="width: {{ confidence }}%;"><span>{{ confidence }}%</span></div>{% elif confidence_level == 'Medium' %}<div class="bg-yellow-500 h-6 rounded-full text-center text-white font-bold flex items-center justify-center" style="width: {{ confidence }}%;"><span>{{ confidence }}%</span></div>{% else %}<div class="bg-red-500 h-6 rounded-full text-center text-white font-bold flex items-center justify-center" style="width: {{ confidence }}%;"><span>{{ confidence }}%</span></div>{% endif %}</div>{% if confidence_level == 'Medium' %}<p class="text-xs text-yellow-600 mt-2">{{ _('Prediction confidence is medium. For best results, consider re-taking the photo in better light.') }}</p>{% elif confidence_level == 'Low' %}<p class="text-xs text-red-600 mt-2"><b>{{ _('Warning') }}:</b> {{ _('Low confidence. The model is uncertain. Please consult a professional for an accurate diagnosis.') }}</p>{% endif %}</div></div></div><div class="space-y-6"><div class="text-left bg-blue-50 p-6 rounded-lg"><h3 class="text-2xl font-bold mb-3">{{ _('About this Condition') }}</h3><p>{{ description }}</p></div>{% if remedies %}<div class="text-left bg-green-50 p-6 rounded-lg"><h3 class="text-2xl font-bold mb-3">{{ _('Suggested Actions') }}</h3><ul class="list-disc list-inside space-y-2">{% for remedy in remedies %}<li>{{ remedy }}</li>{% endfor %}</ul></div>{% endif %}<div id="feedback-section" class="text-center bg-gray-100 p-4 rounded-lg"><p class="font-medium mb-2">{{ _('Was this diagnosis helpful?') }}</p><div class="flex justify-center space-x-4"><button id="correct-btn" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors">üëç {{ _('Correct') }}</button><button id="incorrect-btn" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">üëé {{ _('Incorrect') }}</button></div><p id="feedback-thanks" class="hidden mt-2 text-green-700 font-semibold">{{ _('Thank you for your feedback!') }}</p></div></div></div><div class="mt-8 text-center"><a href="{{ url_for('analyze_page') }}" class="inline-block bg-gray-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-700 transition-all">{{ _('Analyze Another Image') }}</a></div></div></div><script>const correctBtn=document.getElementById("correct-btn"),incorrectBtn=document.getElementById("incorrect-btn"),thanksMsg=document.getElementById("feedback-thanks");function handleFeedback(){correctBtn.disabled=!0,incorrectBtn.disabled=!0,correctBtn.classList.add("opacity-50","cursor-not-allowed"),incorrectBtn.classList.add("opacity-50","cursor-not-allowed"),thanksMsg.classList.remove("hidden")}correctBtn.addEventListener("click",handleFeedback),incorrectBtn.addEventListener("click",handleFeedback);</script>{% endblock %}